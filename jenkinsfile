pipeline {
    agent any
    stages {
        stage('git checkout') {
            steps {
                echo 'git checkout...'
                sleep time: 3, unit: 'SECONDS'
            }
        }
        
        stage('Build') {
            steps {
                echo 'Building the application'
                error 'Intentional failure for testing purposes' // Introduce intentional failure
            }
        }
        // Add other stages as needed
    }
    post {
        failure {
            emailext body: "Ce Build $BUILD_NUMBER a échoué",
            recipientProviders: [requestor()], subject: 'Build Failed', to: 'jean.tabary@edu.ece.fr'
        }
    }
}
